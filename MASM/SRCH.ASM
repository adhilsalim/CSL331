ASSUME CS: CODE, DS: DATA

PRINT MACRO MSG
    LEA DX, MSG ; LOAD EFFECTIVE ADDRESS OF MSG INTO DX
    MOV AH, 09H ; SET AH TO 09H TO PRINT STRING
    INT 21H ; CALL DOS INTERRUPT
ENDM

DATA SEGMENT
    ARRAY DW 1050H,2050H,3050H,4050H,5050H ; ARRAY OF WORDS
    LEN EQU($-ARRAY) ; EQUATE LENGTH OF ARRAY TO LEN
    KEY DW 2050H ; KEY TO BE SEARCHED
    STR1 DB "KEY FOUND$" ; STRING TO BE PRINTED IF KEY IS FOUND
    STR2 DB "KEY NOT FOUND$" ; STRING TO BE PRINTED IF KEY IS NOT FOUND
DATA ENDS

CODE SEGMENT
START:
    MOV AX, DATA ; MOVE DATA SEGMENT INTO AX
    MOV DS, AX ; MOVE AX INTO DS

    LEA SI, ARRAY ; LOAD EFFECTIVE ADDRESS OF ARRAY INTO SI
    MOV CX, LEN ; MOVE LENGTH OF ARRAY INTO CX
    MOV BX, KEY ; MOVE KEY INTO BX

FIND:
    MOV AX, [SI] ; MOVE CONTENT OF SI INTO AX
    CMP AX, BX ; COMPARE CONTENT OF AX AND BX

    JE FOUND ; JUMP TO FOUND IF AX AND BX ARE EQUAL
    INC SI ; INCREMENT SI
    LOOP FIND ; LOOP TO FIND

    PRINT STR2 ; PRINT STR2 IF KEY IS NOT FOUND
    JMP STOP ; JUMP TO STOP
FOUND:
    PRINT STR1 ; PRINT STR1 IF AX AND BX ARE EQUAL
    JMP STOP ; JUMP TO STOP (THIS LINE CAN BE IGNORED)
STOP:
    MOV AH, 4CH ; SET AH TO 4CH TO TERMINATE PROGRAM
    INT 21H ; CALL DOS INTERRUPT
CODE ENDS
END START